一、缓存穿透
高并发下，redis不存在，数据库不存在

出现这种情况：
可能是很多非正常url访问，故意将查询请求打到数据库，让数据库承受压力

解决方案
（1）对空值做缓存，当有请求查过来发现数据库没有，仍然缓存到redis，只不过值为空，<key,null>
（2）设置可访问名单（白名单），比如将能查询到的id设置成白名单（使用bitmaps类型），如果传过来的id不在可查询范围内，拦截请求
（3）采用布隆过滤器
（4）进行实时监控，当发现Redis的命中率急速降低，需要排查访问对象和访问的数据，配置黑名单，和运维人员配合封ip
（5）110报警

二、缓存击穿
高并发下，redis不存在，数据库存在，少量key过期失效

出现情况：
少量key同时过期了，而这几个是热点key，经常用到，这时候过期，导致大量请求查询到数据库了

解决方案
（1）预先设置热点key，在访问高峰期之前，提前加载进redis，并加长失效时间
（2）实时调整，监控哪些数据是高频访问，实时调整key的过期时间
（3）使用锁

三、缓存雪崩
高并发下，redis不存在，数据库存在，大量key过期失效

出现情况：
大量key集中过期了，然而这时候大量的请求全部查询到数据库，导致数据库崩溃，重启也没有

解决方案
（1）多级缓存架构：nginx缓存，redis缓存，其他缓存
（2）使用锁或者队列
（3）设置过期标志更新缓存：当缓存失效或者快失效时，通知其他线程赶紧重新key的过期时间
（4）把key的失效时间分散开，这样就不会出现大量key同时失效的情况